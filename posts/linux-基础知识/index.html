<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <title>Linux 基础知识 | Viper</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="Linux基础 🔗Linux 的常用操作和概念。 快捷键 🔗 Tab：命令和文件名补全。 Ctrl&#43;C：中断正在运行的程序。 Ctrl&#43;D：结束键盘输入（">
<meta name="generator" content="Hugo 0.101.0" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-3CPL7G0HYV', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">←</span>首页</a>
	
	<a href="/posts">归档</a>
	<a href="/tags">标签</a>
	<a href="/about">关于</a>

	

	
	  <a class="button" href="https://viper00.fun/index.xml">订阅</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Linux 基础知识</h1>

    <div class="tip">
        <time datetime="2022-08-22 00:00:00 &#43;0000 UTC">2022年08月22日</time>
        <span class="split">
          ·
        </span>
        <span>
          3295字
        </span>
        <span class="split">
          ·
        </span>
        <span>
          7分钟
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#快捷键">快捷键</a></li>
    <li><a href="#查询信息">查询信息</a></li>
    <li><a href="#关机">关机</a></li>
    <li><a href="#path">PATH</a></li>
    <li><a href="#sudo">sudo</a></li>
    <li><a href="#包管理工具">包管理工具</a>
      <ul>
        <li><a href="#发行版">发行版</a></li>
      </ul>
    </li>
    <li><a href="#gnu">GNU</a></li>
    <li><a href="#bios">BIOS</a></li>
    <li><a href="#linux-目录配置">Linux 目录配置</a></li>
    <li><a href="#文件">文件</a>
      <ul>
        <li><a href="#文件属性">文件属性</a></li>
        <li><a href="#文件目录基本操作">文件目录基本操作</a></li>
        <li><a href="#文件权限">文件权限</a></li>
        <li><a href="#默认权限">默认权限</a></li>
      </ul>
    </li>
    <li><a href="#压缩和打包">压缩和打包</a>
      <ul>
        <li><a href="#压缩指令">压缩指令</a></li>
        <li><a href="#打包">打包</a></li>
      </ul>
    </li>
    <li><a href="#数据流重定向">数据流重定向</a></li>
    <li><a href="#管道指令">管道指令</a></li>
    <li><a href="#拆分文件">拆分文件</a></li>
    <li><a href="#正则表达式">正则表达式</a>
      <ul>
        <li><a href="#grepglobally-search-a-regular-expression-and-print">grep(globally search a regular expression and print)</a></li>
      </ul>
    </li>
    <li><a href="#进程管理">进程管理</a>
      <ul>
        <li><a href="#查看进程">查看进程</a></li>
        <li><a href="#进程状态">进程状态</a></li>
        <li><a href="#孤儿进程">孤儿进程</a></li>
        <li><a href="#僵尸进程">僵尸进程</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h1 id="linux基础">Linux基础 <a href="#linux%e5%9f%ba%e7%a1%80" class="anchor">🔗</a></h1><p>Linux 的常用操作和概念。</p>
<h2 id="快捷键">快捷键 <a href="#%e5%bf%ab%e6%8d%b7%e9%94%ae" class="anchor">🔗</a></h2><ul>
<li>Tab：命令和文件名补全。</li>
<li>Ctrl+C：中断正在运行的程序。</li>
<li>Ctrl+D：结束键盘输入（End Of File, EOF）</li>
</ul>
<h2 id="查询信息">查询信息 <a href="#%e6%9f%a5%e8%af%a2%e4%bf%a1%e6%81%af" class="anchor">🔗</a></h2><ol>
<li>&ndash;help</li>
</ol>
<p>查看指令的基本用法和选项介绍。</p>
<ol start="2">
<li>man（manual）</li>
</ol>
<p>查看指令的具体信息。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ man date
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DATE(1) General Commands Manual 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name
</span></span><span style="display:flex;"><span>    date - display or set date and time
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>其中的数字表示指令的类型：</p>
<ul>
<li>1：用户在 Shell 环境下可以操作的指令或可执行文件。</li>
<li>5：配置文件。</li>
<li>8：系统管理员可以使用的管理指令。</li>
</ul>
<ol start="3">
<li>doc</li>
</ol>
<p>/usr/share/doc 下存放着软件的说明文件。</p>
<h2 id="关机">关机 <a href="#%e5%85%b3%e6%9c%ba" class="anchor">🔗</a></h2><ol>
<li>who</li>
</ol>
<p>查看当前用户在线状态。</p>
<ol start="2">
<li>sync</li>
</ol>
<p>同步内存数据保存到磁盘。关机前如果要保证内存中的数据不丢失，可以使用此命令写入到磁盘中。</p>
<ol start="3">
<li>shutdown</li>
</ol>
<p>在给定的时间后关闭计算机。</p>
<ul>
<li>（-h）计算机在指定时间后关闭。</li>
<li>（-k）踢掉其他在线用户。命令不会关闭计算机，但会让其他在线用户无法登录。</li>
<li>（-r）计算机在指定时间后重新启动。</li>
<li>（-s）计算机在指定时间后休眠。</li>
</ul>
<h2 id="path">PATH <a href="#path" class="anchor">🔗</a></h2><p>系统的环境变量，可以在其中声明可执行文件的路径，用 : 分隔。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
</span></span></code></pre></div><h2 id="sudo">sudo <a href="#sudo" class="anchor">🔗</a></h2><p>允许普通用户执行 root 可执行的命令，只有在 /etc/sudoers 配置文件中的用户才能使用此命令。</p>
<h2 id="包管理工具">包管理工具 <a href="#%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7" class="anchor">🔗</a></h2><p>RPM（Redhat Package Manager）和 DPKG（Debian Package）是最常见的两种软件包管理工具。</p>
<ul>
<li>RPM 由红帽（Red Hat）公司开发，被 GNU 开源操作系统接受并成为大多数 Linux 系统的既定软件标准。YUM（Yellowdog Updater, Modified）基于 RPM 开发，具有依赖管理和软件自动升级等功能。</li>
<li>DPKG 是由 Debian 操作系统所有，主要功能与 RPM 类似。同样的，APT（Advanced Package Tool）基于 DPKG 开发，具有与 YUM 相同的功能。</li>
</ul>
<h3 id="发行版">发行版 <a href="#%e5%8f%91%e8%a1%8c%e7%89%88" class="anchor">🔗</a></h3><p>Linux 发行版是以 Linux 内核为基础开发的各种应用软件的集成版本。</p>
<table>
<thead>
<tr>
<th>商业发行版</th>
<th>包管理工具</th>
<th>社区发行版</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red Hat</td>
<td>RPM/YUM</td>
<td>Fedora/CentOS</td>
</tr>
<tr>
<td>Ubuntu</td>
<td>DRPK/APT</td>
<td>Debian</td>
</tr>
</tbody>
</table>
<h2 id="gnu">GNU <a href="#gnu" class="anchor">🔗</a></h2><p>GNU（General Public License）计划，目标是创建一套完全自由的操作系统，其内部软件完全以 GPL 开源协议发布。其中，包含了如下内容：</p>
<ul>
<li>以任何目的运行软件的自由。</li>
<li>拷贝复制的自由。</li>
<li>二次分发的自由。</li>
</ul>
<h2 id="bios">BIOS <a href="#bios" class="anchor">🔗</a></h2><p>BIOS（Basic Input/Output System，基本的输入输出系统）是一个开机检测程序，它是一个固件（嵌入在硬件中的软件）。BIOS 程序存放在断电后不会丢失数据的只读内存中。</p>
<p>BIOS 是计算机开机时读取且执行的第一个程序，执行这个程序就能知道磁盘位置。之后读取磁盘的第一个扇区的主引导记录（MBR，Master boot record），再从中执行开机管理程序，管理程序会加载操作系统的核心文件。</p>
<h2 id="linux-目录配置">Linux 目录配置 <a href="#linux-%e7%9b%ae%e5%bd%95%e9%85%8d%e7%bd%ae" class="anchor">🔗</a></h2><p>为了使不同的 Linux 发行版本的目录结构保持一致性，Linux 基金会提出并制定了 <a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard" target="_blank" rel="noopener">FHS</a>（Filesystem Hierarchy Standard）标准。例如：</p>
<ul>
<li><strong>/</strong>：root，根目录。</li>
<li><strong>/var</strong>：variable，变量文件，系统运行过程中将不断变化的文件，例如日志。</li>
<li><strong>/dev</strong>：驱动文件。</li>
<li><strong>/etc</strong>：主机范围内的配置文件。</li>
<li><strong>/home</strong>：用户主目录，包含一些文件、个人设置和可执行程序等。</li>
<li><strong>/opt</strong>：附加的应用程序软件包。</li>
<li><strong>/run</strong>：Run-time vaiable data，计算机启动后执行的变量文件。</li>
</ul>
<h2 id="文件">文件 <a href="#%e6%96%87%e4%bb%b6" class="anchor">🔗</a></h2><h3 id="文件属性">文件属性 <a href="#%e6%96%87%e4%bb%b6%e5%b1%9e%e6%80%a7" class="anchor">🔗</a></h3><p>文件用户分为三种，分别是：文件拥有者、群组和其他人。不同用户拥有不同的文件权限。</p>
<p>命令行下使用 <code>ls -l</code> 或 <code>ll</code> 能查看文件的信息，例如 <code>drwxr-xr-x  4 root  staff  128 12 14 17:45 blog</code> 的解释是：</p>
<ul>
<li>drwxr-xr-x：第 1 位是文件类型，后 9 位是文件权限。</li>
<li>4：链接数</li>
<li>root：文件拥有者</li>
<li>staff：所属群组</li>
<li>128：文件大小</li>
<li>12 14 17:45：文件最后被修改的时间（注：目录也算一种文件）</li>
<li>blog：文件名</li>
</ul>
<p>常见的文件类型和含义：</p>
<ul>
<li>d：目录</li>
<li>-：文件</li>
<li>|：链接文件</li>
</ul>
<p>文件权限分为三组，分别表示文件拥有者、所属群组和其他人。其中每组可表示：</p>
<ul>
<li>r：可读</li>
<li>w：可写</li>
<li>x：可执行</li>
</ul>
<p>Linux 文件有三种时间戳：</p>
<ul>
<li>access timestamp（atime）：当文件被读取时变化。</li>
<li>modified timestamp（mtime）：文件创建的默认时间戳，当文件被修改时变化。</li>
<li>changed timestamp/Status Change timestamp（ctime）：当文件的状态（权限、属性）更新时变化。</li>
</ul>
<h3 id="文件目录基本操作">文件目录基本操作 <a href="#%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c" class="anchor">🔗</a></h3><ol>
<li>ls</li>
</ol>
<p>罗列所有文件和目录的信息。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ ls [-adl] file|dir
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-a：列出所有文件。
</span></span><span style="display:flex;"><span>-d：列出所有目录。
</span></span><span style="display:flex;"><span>-l：列出所有文件的属性和权限等信息。
</span></span></code></pre></div><ol start="2">
<li>cd</li>
</ol>
<p>更换当前目录</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ cd [相对路径或绝对路径]
</span></span></code></pre></div><ol start="3">
<li>mkdir</li>
</ol>
<p>创建目录</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ mkdir [-mp] 目录名称
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-m：配置目录权限
</span></span><span style="display:flex;"><span>-p：递归创建目录
</span></span></code></pre></div><ol start="4">
<li>rmdir</li>
</ol>
<p>删除目录，目录必须为空</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ rmdir [-p] 目录名称
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-p：递归删除目录
</span></span></code></pre></div><ol start="5">
<li>rm</li>
</ol>
<p>删除文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ rm [-fir] 文件或目录
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-r：递归删除
</span></span></code></pre></div><ol start="6">
<li>mv</li>
</ol>
<p>移动文件</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ mv [-fiu] 源文件 目标文件
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-f: force 强制移动文件并覆盖目标文件
</span></span></code></pre></div><h3 id="文件权限">文件权限 <a href="#%e6%96%87%e4%bb%b6%e6%9d%83%e9%99%90" class="anchor">🔗</a></h3><p>文件权限的三个位分别代表着拥有者、所属群组和其他人的权限。其中的权值是：</p>
<ul>
<li>r：4</li>
<li>w：2</li>
<li>x：1</li>
</ul>
<p>例如将某个文件的权限修改为 <strong>-rwxr-xr&ndash;</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ chmod 754 文件名称
</span></span></code></pre></div><h3 id="默认权限">默认权限 <a href="#%e9%bb%98%e8%ae%a4%e6%9d%83%e9%99%90" class="anchor">🔗</a></h3><p>文件的默认没有可执行文件，所以是 <strong>666</strong>，也就是 <strong>-rw-rw-rw-</strong>。
目录的默认权限因为需要进入，所以必须是可执行的，因此为 <strong>777</strong>，也就是 <strong>drwxrwxrwx</strong>。</p>
<h2 id="压缩和打包">压缩和打包 <a href="#%e5%8e%8b%e7%bc%a9%e5%92%8c%e6%89%93%e5%8c%85" class="anchor">🔗</a></h2><p>Linux 下有很多压缩文件名，有些既能压缩也能解压，例如：</p>
<table>
<thead>
<tr>
<th>扩展名</th>
<th>压缩程序</th>
</tr>
</thead>
<tbody>
<tr>
<td>*.Z</td>
<td>compress</td>
</tr>
<tr>
<td>*.zip</td>
<td>zip</td>
</tr>
<tr>
<td>*.gz</td>
<td>gzip</td>
</tr>
<tr>
<td>*.bz2</td>
<td>bzip2</td>
</tr>
<tr>
<td>*.xz</td>
<td>xz</td>
</tr>
<tr>
<td>*.tar</td>
<td>tar 程序打包文件</td>
</tr>
<tr>
<td>*.tar.gz</td>
<td>tar 程序打包文件，并经过 gzip 压缩</td>
</tr>
<tr>
<td>*.tar.bz2</td>
<td>tar 程序打包文件，并经过bzip2 压缩</td>
</tr>
<tr>
<td>*.tar.xz</td>
<td>tar 程序打包文件，并经过 xz 压缩</td>
</tr>
</tbody>
</table>
<h3 id="压缩指令">压缩指令 <a href="#%e5%8e%8b%e7%bc%a9%e6%8c%87%e4%bb%a4" class="anchor">🔗</a></h3><p>压缩比越高意味着压缩时间越长。</p>
<ol>
<li>gzip</li>
</ol>
<p>gzip 是 Linux 使用最广的压缩指令，可以压缩或解压 compress、zip 和 gzip 的压缩文件。</p>
<p>经过 gzip 处理后，源文件就不存在了。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ gzip [-cdtv#] filename
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-c：将压缩的数据输出到屏幕上。
</span></span><span style="display:flex;"><span>-t：检验压缩文件是否出错。
</span></span><span style="display:flex;"><span>-d：解压缩。
</span></span><span style="display:flex;"><span>-#：表示压缩等级，数字越大等级越高，默认是 6。
</span></span></code></pre></div><ol start="2">
<li>bzip2</li>
</ol>
<p>更高级的压缩比</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bzip2 [-cdkzv#] filename
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-k：保留源文件
</span></span></code></pre></div><ol start="3">
<li>xz</li>
</ol>
<p>再高一级压缩比</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ xz [-dtlkc#] filename
</span></span></code></pre></div><h3 id="打包">打包 <a href="#%e6%89%93%e5%8c%85" class="anchor">🔗</a></h3><p>压缩指令只对一个文件处理，而打包可对多个文件处理，打包成大文件。</p>
<p>tar 内部还支持了上述的压缩处理。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$tar [-crtux] filename
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-c/-r/-u：新建打包文件。
</span></span><span style="display:flex;"><span>-t：查看打包里的文件内容。
</span></span><span style="display:flex;"><span>-x：解打包或解压缩。
</span></span><span style="display:flex;"><span>-z：zip。
</span></span><span style="display:flex;"><span>-j：bzip2。
</span></span><span style="display:flex;"><span>-J：xz。
</span></span><span style="display:flex;"><span>-f：filename，待处理文件。
</span></span></code></pre></div><h2 id="数据流重定向">数据流重定向 <a href="#%e6%95%b0%e6%8d%ae%e6%b5%81%e9%87%8d%e5%ae%9a%e5%90%91" class="anchor">🔗</a></h2><p>重定向指使用运算符来表示标准输入、标准输出和标准错误输出。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>代码</th>
<th>运算符</th>
</tr>
</thead>
<tbody>
<tr>
<td>标准输入(stdin)</td>
<td>0</td>
<td>&lt;, &laquo;</td>
</tr>
<tr>
<td>标准输出(stdout)</td>
<td>1</td>
<td>&gt;, &raquo;</td>
</tr>
<tr>
<td>标准错误输出(stderr)</td>
<td>2</td>
<td>2&gt;, 2&raquo;</td>
</tr>
</tbody>
</table>
<p>一个箭头表示完全覆盖源文件，两个箭头表示以追加方式修改源文件。</p>
<p>可以将不需要的标准输出或标准错误输出重定向到 <strong>/dev/null</strong>，当作回收垃圾。</p>
<h2 id="管道指令">管道指令 <a href="#%e7%ae%a1%e9%81%93%e6%8c%87%e4%bb%a4" class="anchor">🔗</a></h2><p>管道是将另一个命令的标准输出作为另一个命令的标准输入。</p>
<p>在命令之间使用 <strong>|</strong> 分隔各个管道命令。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ ls -al /usr | less
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo &#34;abc&#34; | &gt;abc.txt
</span></span></code></pre></div><h2 id="拆分文件">拆分文件 <a href="#%e6%8b%86%e5%88%86%e6%96%87%e4%bb%b6" class="anchor">🔗</a></h2><p>split 将一个文件拆分成多个文件。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ split [-bl] filename PREFIX
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-b：以大小拆分，可加单位，如 b，k，m 等
</span></span><span style="display:flex;"><span>-l：以行数拆分。
</span></span><span style="display:flex;"><span>- PREFIX：可选，拆分后文件的前缀。
</span></span></code></pre></div><h2 id="正则表达式">正则表达式 <a href="#%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f" class="anchor">🔗</a></h2><h3 id="grepglobally-search-a-regular-expression-and-print">grep(globally search a regular expression and print) <a href="#grepglobally-search-a-regular-expression-and-print" class="anchor">🔗</a></h3><p>利用正则表达式进行全局搜索并打印。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ grep [-acinv] [--color=auto] 字符串 文件名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-a：查询 ASCII 文本文件
</span></span><span style="display:flex;"><span>-c：计算匹配到行的个数。
</span></span><span style="display:flex;"><span>-i：忽略大小写。
</span></span><span style="display:flex;"><span>-n：输出行号。
</span></span><span style="display:flex;"><span>-v：输出未匹配的行字符串。
</span></span><span style="display:flex;"><span>-color=auto：查询关键字的颜色。
</span></span></code></pre></div><h2 id="进程管理">进程管理 <a href="#%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86" class="anchor">🔗</a></h2><h3 id="查看进程">查看进程 <a href="#%e6%9f%a5%e7%9c%8b%e8%bf%9b%e7%a8%8b" class="anchor">🔗</a></h3><ol>
<li>ps</li>
</ol>
<p>查看进程信息。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ ps [-l/aux]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-l：查看自己的进程。
</span></span><span style="display:flex;"><span>aux：查看系统所有进程。
</span></span></code></pre></div><p>例如通过正则表达式查找进程信息。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ ps aux | grep threadx
</span></span></code></pre></div><ol start="2">
<li>pstree</li>
</ol>
<p>查看进程数。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ pstree -a
</span></span></code></pre></div><ol start="3">
<li>top</li>
</ol>
<p>实时显示进程信息</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ top -d 2
</span></span></code></pre></div><ol start="4">
<li>netstat</li>
</ol>
<p>查看占用端口的进程</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ netstat -a | grep port
</span></span></code></pre></div><h3 id="进程状态">进程状态 <a href="#%e8%bf%9b%e7%a8%8b%e7%8a%b6%e6%80%81" class="anchor">🔗</a></h3><ol>
<li>Running/Runnable(on run queue)</li>
</ol>
<p>正在执行或可执行状态。此时进程位于执行队列中。</p>
<ol start="2">
<li>Uninterruptible sleep(usually I/O)</li>
</ol>
<p>不可中断阻塞。通常是 I/O 阻塞。</p>
<ol start="3">
<li>Interruptible sleep(waiting for an event to complete)</li>
</ol>
<p>可中断阻塞。进程正在等待某个事件完成。</p>
<ol start="4">
<li>zombie(terminated but not reaped by its parent)</li>
</ol>
<p>僵死。进程已经终止，但是夫进程未获取到。</p>
<ol start="5">
<li>stopped(either by a job control signal or because it is being traced)</li>
</ol>
<p>停止/结束。此时进程可能是被作业控制信号结束，也可能是被追踪。</p>
<h3 id="孤儿进程">孤儿进程 <a href="#%e5%ad%a4%e5%84%bf%e8%bf%9b%e7%a8%8b" class="anchor">🔗</a></h3><p>当父进程退出，而子进程还在运行时，这些子进程就被称为孤儿进程。</p>
<p>最终，孤儿进程将被 init 进程（进程号：1）处理，释放子进程占用的空间和资源。</p>
<h3 id="僵尸进程">僵尸进程 <a href="#%e5%83%b5%e5%b0%b8%e8%bf%9b%e7%a8%8b" class="anchor">🔗</a></h3><p>当子进程做完任务退出后，此时子进程不会完全释放，而是等待父进程调用 wait() 或 waitpid() 获取子进程的信息才能释放。如果此时父进程没有做任何处理，那么此时的子进程就被称为僵尸进程。</p>
<p>僵尸进程通过 ps 命令查询的进程信息状态是 Z（zombie）。</p>
<p>如果系统中存在大量的僵尸进程，最常见的办法就是将父进程杀死，此时子进程就会变成孤儿进程，直到被 init 进程处理。这种做法可以保证系统的进程数量循环利用。</p>

    </div>

    
    
    
  <div id="comment">
    
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-dxmvw3ac3t" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>


</section>


    </main>
    
    <footer id="footer">
    
        <div id="social">


    <a class="symbol" href="https://github.com/viper-00" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28"  viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <title>Github</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Social-Icons---Rounded-Black" transform="translate(-264.000000, -939.000000)">
            <g id="Github" transform="translate(264.000000, 939.000000)">
                <path d="M8,72 L64,72 C68.418278,72 72,68.418278 72,64 L72,8 C72,3.581722 68.418278,-8.11624501e-16 64,0 L8,0 C3.581722,8.11624501e-16 -5.41083001e-16,3.581722 0,8 L0,64 C5.41083001e-16,68.418278 3.581722,72 8,72 Z" id="Rounded" fill="#bbbbbb"></path>
                <path d="M35.9985,13 C22.746,13 12,23.7870921 12,37.096644 C12,47.7406712 18.876,56.7718301 28.4145,59.9584121 C29.6145,60.1797862 30.0525,59.4358488 30.0525,58.7973276 C30.0525,58.2250681 30.0315,56.7100863 30.0195,54.6996482 C23.343,56.1558981 21.9345,51.4693938 21.9345,51.4693938 C20.844,48.6864054 19.2705,47.9454799 19.2705,47.9454799 C17.091,46.4500754 19.4355,46.4801943 19.4355,46.4801943 C21.843,46.6503662 23.1105,48.9634994 23.1105,48.9634994 C25.2525,52.6455377 28.728,51.5823398 30.096,50.9649018 C30.3135,49.4077535 30.9345,48.3460615 31.62,47.7436831 C26.2905,47.1352808 20.688,45.0691228 20.688,35.8361671 C20.688,33.2052792 21.6225,31.0547881 23.1585,29.3696344 C22.911,28.7597262 22.0875,26.3110578 23.3925,22.9934585 C23.3925,22.9934585 25.4085,22.3459017 29.9925,25.4632101 C31.908,24.9285993 33.96,24.6620468 36.0015,24.6515052 C38.04,24.6620468 40.0935,24.9285993 42.0105,25.4632101 C46.5915,22.3459017 48.603,22.9934585 48.603,22.9934585 C49.9125,26.3110578 49.089,28.7597262 48.8415,29.3696344 C50.3805,31.0547881 51.309,33.2052792 51.309,35.8361671 C51.309,45.0917119 45.6975,47.1292571 40.3515,47.7256117 C41.2125,48.4695491 41.9805,49.9393525 41.9805,52.1877301 C41.9805,55.4089489 41.9505,58.0067059 41.9505,58.7973276 C41.9505,59.4418726 42.3825,60.1918338 43.6005,59.9554002 C53.13,56.7627944 60,47.7376593 60,37.096644 C60,23.7870921 49.254,13 35.9985,13" fill="#FFFFFF"></path>
            </g>
        </g>
    </g>
</svg>
    </a>

    <a class="symbol" href="https://twitter.com/ZhongMingYang00" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"
	 xml:space="preserve">
<g>
	<path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123
		C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126
		h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225
		C438.532,59.576,430.49,40.204,414.41,24.123z M335.471,168.735c0.191,1.713,0.288,4.278,0.288,7.71
		c0,15.989-2.334,32.025-6.995,48.104c-4.661,16.087-11.8,31.504-21.416,46.254c-9.606,14.749-21.074,27.791-34.396,39.115
		c-13.325,11.32-29.311,20.365-47.968,27.117c-18.648,6.762-38.637,10.143-59.953,10.143c-33.116,0-63.76-8.952-91.931-26.836
		c4.568,0.568,9.329,0.855,14.275,0.855c27.6,0,52.439-8.565,74.519-25.7c-12.941-0.185-24.506-4.179-34.688-11.991
		c-10.185-7.803-17.273-17.699-21.271-29.691c4.947,0.76,8.658,1.137,11.132,1.137c4.187,0,9.042-0.76,14.56-2.279
		c-13.894-2.669-25.598-9.562-35.115-20.697c-9.519-11.136-14.277-23.84-14.277-38.114v-0.571
		c10.085,4.755,19.602,7.229,28.549,7.422c-17.321-11.613-25.981-28.265-25.981-49.963c0-10.66,2.758-20.747,8.278-30.264
		c15.035,18.464,33.311,33.213,54.816,44.252c21.507,11.038,44.54,17.227,69.092,18.558c-0.95-3.616-1.427-8.186-1.427-13.704
		c0-16.562,5.853-30.692,17.56-42.399c11.703-11.706,25.837-17.561,42.394-17.561c17.515,0,32.079,6.283,43.688,18.846
		c13.134-2.474,25.892-7.33,38.26-14.56c-4.757,14.652-13.613,25.788-26.55,33.402c12.368-1.716,23.88-4.95,34.537-9.708
		C357.458,149.793,347.462,160.166,335.471,168.735z"/>
</g>
</svg>

    </a>


</div>

    

    <div class="copyright">
    
       © Copyright 
       2022 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       Viper
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-mini'>nodejh</a>
      </div>
    
</footer>



  </body>
</html>
